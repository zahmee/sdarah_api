{"version":3,"sources":["../../src/controller/keys.js"],"names":["config","db","api","get","req","res","Key","find","err","key","send","json","params","id"],"mappings":";;;;;;AAAA;;AACA;;;;;;AACA;AACA;;kBAEe,gBAAoB;AAAA,QAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,QAATC,EAAS,QAATA,EAAS;;AAC/B,QAAIC,MAAM,sBAAV;AACA;AACAA,QAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvBC,sBAAIC,IAAJ,CAAS,EAAT,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvB,gBAAID,GAAJ,EAAS;AACLH,oBAAIK,IAAJ,CAASF,GAAT;AACH;AACDH,gBAAIM,IAAJ,CAASF,GAAT;AACH,SALD;AAMH,KAPD;AAQA;AACAP,QAAIC,GAAJ,CAAQ,MAAR,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BC,sBAAIC,IAAJ,CAAS,EAAC,UAAWH,IAAIQ,MAAJ,CAAWC,EAAvB,EAAT,EAAsC,UAACL,GAAD,EAAMC,GAAN,EAAc;AAChD,gBAAID,GAAJ,EAAS;AACLH,oBAAIK,IAAJ,CAASF,GAAT;AACH;AACDH,gBAAIM,IAAJ,CAASF,GAAT;AACH,SALD;AAMH,KAPD;AAQA;AACA,WAAOP,GAAP;AACH,C","file":"keys.js","sourcesContent":["import { Router } from \"express\";\r\nimport Key from \"../model/key\";\r\n//import mongoose from \"mongoose\";\r\n//import bodyParser from 'body-parser' ;\r\n\r\nexport default ({ config, db }) => {\r\n    let api = Router();\r\n    // v1/keys/   -> get all data\r\n    api.get(\"/\", (req, res) => {\r\n        Key.find({}, (err, key) => {\r\n            if (err) {\r\n                res.send(err);\r\n            }\r\n            res.json(key);\r\n        });\r\n    });\r\n    // /v1/keys/:id\r\n    api.get(\"/:id\", (req, res) => {\r\n        Key.find({\"cat.id\" : req.params.id} , (err, key) => {\r\n            if (err) {\r\n                res.send(err);\r\n            }\r\n            res.json(key);\r\n        });\r\n    });\r\n    //====================================================\r\n    return api;\r\n};\r\n"]}